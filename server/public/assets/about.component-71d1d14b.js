import{r as i,j as e}from"./index-6406b45d.js";import{a as c}from"./axios-760d4776.js";const u="",j="fezza";function F(){const[o,p]=i.useState(null),[a,f]=i.useState(""),[l,m]=i.useState(""),d=t=>{t.target.files&&p(t.target.files[0])},x=async t=>{if(t.preventDefault(),!o)return;const n=new FormData,r=`${j}-${o.name}`;n.append("file",o,r);try{const{data:s}=await c.post(`${u}/api/file`,n);console.log(s)}catch(s){console.error(s)}},h=async t=>{if(t.preventDefault(),!!a)try{const{data:n,headers:r}=await c.get(`${u}/api/file/${a}`,{responseType:"blob"}),s=new Blob([n]),b=URL.createObjectURL(s);r["content-type"].includes("text/plain")?console.log(await s.text()):m(b)}catch(n){console.error(n)}};return e.jsxs(e.Fragment,{children:[e.jsxs("form",{onSubmit:x,children:[e.jsx("input",{type:"file",onChange:d}),e.jsx("button",{type:"submit",children:"Upload"})]}),e.jsxs("div",{children:[e.jsxs("form",{onSubmit:h,children:[e.jsx("input",{type:"text",value:a,onChange:t=>f(t.target.value)}),e.jsx("button",{type:"submit",children:"Retrieve"})]}),l&&e.jsx("img",{src:l,alt:"File Preview"})]})]})}export{F as default};
