var ar=Object.create;var se=Object.defineProperty;var sr=Object.getOwnPropertyDescriptor;var ir=Object.getOwnPropertyNames;var ur=Object.getPrototypeOf,fr=Object.prototype.hasOwnProperty;var cr=(e,r)=>()=>(e&&(r=e(e=0)),r);var y=(e,r)=>()=>(r||e((r={exports:{}}).exports,r),r.exports);var lr=(e,r,t,n)=>{if(r&&typeof r=="object"||typeof r=="function")for(let o of ir(r))!fr.call(e,o)&&o!==t&&se(e,o,{get:()=>r[o],enumerable:!(n=sr(r,o))||n.enumerable});return e};var b=(e,r,t)=>(t=e!=null?ar(ur(e)):{},lr(r||!e||!e.__esModule?se(t,"default",{value:e,enumerable:!0}):t,e));var pr,p,i=cr(()=>{pr=()=>typeof document>"u"?new URL("file:"+__filename).href:document.currentScript&&document.currentScript.src||new URL("main.js",document.baseURI).href,p=pr()});var ve=y((W,me)=>{i();var q=require("buffer"),_=q.Buffer;function de(e,r){for(var t in e)r[t]=e[t]}_.from&&_.alloc&&_.allocUnsafe&&_.allocUnsafeSlow?me.exports=q:(de(q,W),W.Buffer=E);function E(e,r,t){return _(e,r,t)}de(_,E);E.from=function(e,r,t){if(typeof e=="number")throw new TypeError("Argument must not be a number");return _(e,r,t)};E.alloc=function(e,r,t){if(typeof e!="number")throw new TypeError("Argument must be a number");var n=_(e);return r!==void 0?typeof t=="string"?n.fill(r,t):n.fill(r):n.fill(0),n};E.allocUnsafe=function(e){if(typeof e!="number")throw new TypeError("Argument must be a number");return _(e)};E.allocUnsafeSlow=function(e){if(typeof e!="number")throw new TypeError("Argument must be a number");return q.SlowBuffer(e)}});var he=y((jt,z)=>{"use strict";i();var dr=ve().Buffer;z.exports=gr;z.exports.parse=ge;var mr=/^ *(?:[Bb][Aa][Ss][Ii][Cc]) +([A-Za-z0-9._~+/-]+=*) *$/,vr=/^([^:]*):(.*)$/;function gr(e){if(!e)throw new TypeError("argument req is required");if(typeof e!="object")throw new TypeError("argument req is required to be an object");var r=yr(e);return ge(r)}function hr(e){return dr.from(e,"base64").toString()}function yr(e){if(!e.headers||typeof e.headers!="object")throw new TypeError("argument req is required to have headers property");return e.headers.authorization}function ge(e){if(typeof e=="string"){var r=mr.exec(e);if(r){var t=vr.exec(hr(r[1]));if(t)return new br(t[1],t[2])}}}function br(e,r){this.name=e,this.pass=r}});var be=y((Nt,ye)=>{i();var x=1e3,C=x*60,O=C*60,R=O*24,wr=R*365.25;ye.exports=function(e,r){r=r||{};var t=typeof e;if(t==="string"&&e.length>0)return _r(e);if(t==="number"&&isNaN(e)===!1)return r.long?Tr(e):kr(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))};function _r(e){if(e=String(e),!(e.length>100)){var r=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(r){var t=parseFloat(r[1]),n=(r[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"yrs":case"yr":case"y":return t*wr;case"days":case"day":case"d":return t*R;case"hours":case"hour":case"hrs":case"hr":case"h":return t*O;case"minutes":case"minute":case"mins":case"min":case"m":return t*C;case"seconds":case"second":case"secs":case"sec":case"s":return t*x;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return t;default:return}}}}function kr(e){return e>=R?Math.round(e/R)+"d":e>=O?Math.round(e/O)+"h":e>=C?Math.round(e/C)+"m":e>=x?Math.round(e/x)+"s":e+"ms"}function Tr(e){return I(e,R,"day")||I(e,O,"hour")||I(e,C,"minute")||I(e,x,"second")||e+" ms"}function I(e,r,t){if(!(e<r))return e<r*1.5?Math.floor(e/r)+" "+t:Math.ceil(e/r)+" "+t+"s"}});var X=y((f,we)=>{i();f=we.exports=Z.debug=Z.default=Z;f.coerce=Cr;f.disable=Ar;f.enable=Sr;f.enabled=xr;f.humanize=be();f.names=[];f.skips=[];f.formatters={};var Y;function Er(e){var r=0,t;for(t in e)r=(r<<5)-r+e.charCodeAt(t),r|=0;return f.colors[Math.abs(r)%f.colors.length]}function Z(e){function r(){if(r.enabled){var t=r,n=+new Date,o=n-(Y||n);t.diff=o,t.prev=Y,t.curr=n,Y=n;for(var a=new Array(arguments.length),s=0;s<a.length;s++)a[s]=arguments[s];a[0]=f.coerce(a[0]),typeof a[0]!="string"&&a.unshift("%O");var u=0;a[0]=a[0].replace(/%([a-zA-Z%])/g,function(m,w){if(m==="%%")return m;u++;var v=f.formatters[w];if(typeof v=="function"){var l=a[u];m=v.call(t,l),a.splice(u,1),u--}return m}),f.formatArgs.call(t,a);var h=r.log||f.log||console.log.bind(console);h.apply(t,a)}}return r.namespace=e,r.enabled=f.enabled(e),r.useColors=f.useColors(),r.color=Er(e),typeof f.init=="function"&&f.init(r),r}function Sr(e){f.save(e),f.names=[],f.skips=[];for(var r=(typeof e=="string"?e:"").split(/[\s,]+/),t=r.length,n=0;n<t;n++)r[n]&&(e=r[n].replace(/\*/g,".*?"),e[0]==="-"?f.skips.push(new RegExp("^"+e.substr(1)+"$")):f.names.push(new RegExp("^"+e+"$")))}function Ar(){f.enable("")}function xr(e){var r,t;for(r=0,t=f.skips.length;r<t;r++)if(f.skips[r].test(e))return!1;for(r=0,t=f.names.length;r<t;r++)if(f.names[r].test(e))return!0;return!1}function Cr(e){return e instanceof Error?e.stack||e.message:e}});var Te=y((g,ke)=>{i();g=ke.exports=X();g.log=Fr;g.formatArgs=Rr;g.save=Ur;g.load=_e;g.useColors=Or;g.storage=typeof chrome<"u"&&typeof chrome.storage<"u"?chrome.storage.local:jr();g.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"];function Or(){return typeof window<"u"&&window.process&&window.process.type==="renderer"?!0:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}g.formatters.j=function(e){try{return JSON.stringify(e)}catch(r){return"[UnexpectedJSONParseError]: "+r.message}};function Rr(e){var r=this.useColors;if(e[0]=(r?"%c":"")+this.namespace+(r?" %c":" ")+e[0]+(r?"%c ":" ")+"+"+g.humanize(this.diff),!!r){var t="color: "+this.color;e.splice(1,0,t,"color: inherit");var n=0,o=0;e[0].replace(/%[a-zA-Z%]/g,function(a){a!=="%%"&&(n++,a==="%c"&&(o=n))}),e.splice(o,0,t)}}function Fr(){return typeof console=="object"&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function Ur(e){try{e==null?g.storage.removeItem("debug"):g.storage.debug=e}catch{}}function _e(){var e;try{e=g.storage.debug}catch{}return!e&&typeof process<"u"&&"env"in process&&(e=process.env.DEBUG),e}g.enable(_e());function jr(){try{return window.localStorage}catch{}}});var xe=y((d,Ae)=>{i();var Ee=require("tty"),F=require("util");d=Ae.exports=X();d.init=Br;d.log=Dr;d.formatArgs=Pr;d.save=qr;d.load=Se;d.useColors=Nr;d.colors=[6,2,3,4,5,1];d.inspectOpts=Object.keys(process.env).filter(function(e){return/^debug_/i.test(e)}).reduce(function(e,r){var t=r.substring(6).toLowerCase().replace(/_([a-z])/g,function(o,a){return a.toUpperCase()}),n=process.env[r];return/^(yes|on|true|enabled)$/i.test(n)?n=!0:/^(no|off|false|disabled)$/i.test(n)?n=!1:n==="null"?n=null:n=Number(n),e[t]=n,e},{});var S=parseInt(process.env.DEBUG_FD,10)||2;S!==1&&S!==2&&F.deprecate(function(){},"except for stderr(2) and stdout(1), any other usage of DEBUG_FD is deprecated. Override debug.log if you want to use a different log function (https://git.io/debug_fd)")();var Lr=S===1?process.stdout:S===2?process.stderr:Ir(S);function Nr(){return"colors"in d.inspectOpts?!!d.inspectOpts.colors:Ee.isatty(S)}d.formatters.o=function(e){return this.inspectOpts.colors=this.useColors,F.inspect(e,this.inspectOpts).split(`
`).map(function(r){return r.trim()}).join(" ")};d.formatters.O=function(e){return this.inspectOpts.colors=this.useColors,F.inspect(e,this.inspectOpts)};function Pr(e){var r=this.namespace,t=this.useColors;if(t){var n=this.color,o="  \x1B[3"+n+";1m"+r+" \x1B[0m";e[0]=o+e[0].split(`
`).join(`
`+o),e.push("\x1B[3"+n+"m+"+d.humanize(this.diff)+"\x1B[0m")}else e[0]=new Date().toUTCString()+" "+r+" "+e[0]}function Dr(){return Lr.write(F.format.apply(F,arguments)+`
`)}function qr(e){e==null?delete process.env.DEBUG:process.env.DEBUG=e}function Se(){return process.env.DEBUG}function Ir(e){var r,t=process.binding("tty_wrap");switch(t.guessHandleType(e)){case"TTY":r=new Ee.WriteStream(e),r._type="tty",r._handle&&r._handle.unref&&r._handle.unref();break;case"FILE":var n=require("fs");r=new n.SyncWriteStream(e,{autoClose:!1}),r._type="fs";break;case"PIPE":case"TCP":var o=require("net");r=new o.Socket({fd:e,readable:!1,writable:!0}),r.readable=!1,r.read=null,r._type="pipe",r._handle&&r._handle.unref&&r._handle.unref();break;default:throw new Error("Implement me. Unknown stream file type!")}return r.fd=e,r._isStdio=!0,r}function Br(e){e.inspectOpts={};for(var r=Object.keys(d.inspectOpts),t=0;t<r.length;t++)e.inspectOpts[r[t]]=d.inspectOpts[r[t]]}d.enable(Se())});var Ce=y((Bt,K)=>{i();typeof process<"u"&&process.type==="renderer"?K.exports=Te():K.exports=xe()});var je=y((Mt,Ue)=>{i();var Hr=require("path").relative;Ue.exports=Gr;var Mr=process.cwd();function Re(e,r){for(var t=e.split(/[ ,]+/),n=String(r).toLowerCase(),o=0;o<t.length;o++){var a=t[o];if(a&&(a==="*"||a.toLowerCase()===n))return!0}return!1}function $r(e,r,t){var n=Object.getOwnPropertyDescriptor(e,r),o=n.value;return n.get=function(){return o},n.writable&&(n.set=function(s){return o=s}),delete n.value,delete n.writable,Object.defineProperty(e,r,n),n}function Jr(e){for(var r="",t=0;t<e;t++)r+=", arg"+t;return r.substr(2)}function Vr(e){var r=this.name+": "+this.namespace;this.message&&(r+=" deprecated "+this.message);for(var t=0;t<e.length;t++)r+=`
    at `+e[t].toString();return r}function Gr(e){if(!e)throw new TypeError("argument namespace is required");var r=H(),t=A(r[1]),n=t[0];function o(a){B.call(o,a)}return o._file=n,o._ignored=zr(e),o._namespace=e,o._traced=Yr(e),o._warned=Object.create(null),o.function=Qr,o.property=et,o}function Wr(e,r){var t=typeof e.listenerCount!="function"?e.listeners(r).length:e.listenerCount(r);return t>0}function zr(e){if(process.noDeprecation)return!0;var r=process.env.NO_DEPRECATION||"";return Re(r,e)}function Yr(e){if(process.traceDeprecation)return!0;var r=process.env.TRACE_DEPRECATION||"";return Re(r,e)}function B(e,r){var t=Wr(process,"deprecation");if(!(!t&&this._ignored)){var n,o,a,s,u=0,h=!1,m=H(),w=this._file;for(r?(s=r,a=A(m[1]),a.name=s.name,w=a[0]):(u=2,s=A(m[u]),a=s);u<m.length;u++)if(n=A(m[u]),o=n[0],o===w)h=!0;else if(o===this._file)w=this._file;else if(h)break;var v=n?s.join(":")+"__"+n.join(":"):void 0;if(!(v!==void 0&&v in this._warned)){this._warned[v]=!0;var l=e;if(l||(l=a===s||!a.name?Oe(s):Oe(a)),t){var T=Fe(this._namespace,l,m.slice(u));process.emit("deprecation",T);return}var N=process.stderr.isTTY?Xr:Zr,P=N.call(this,l,n,m.slice(u));process.stderr.write(P+`
`,"utf8")}}}function A(e){var r=e.getFileName()||"<anonymous>",t=e.getLineNumber(),n=e.getColumnNumber();e.isEval()&&(r=e.getEvalOrigin()+", "+r);var o=[r,t,n];return o.callSite=e,o.name=e.getFunctionName(),o}function Oe(e){var r=e.callSite,t=e.name;t||(t="<anonymous@"+Q(e)+">");var n=r.getThis(),o=n&&r.getTypeName();return o==="Object"&&(o=void 0),o==="Function"&&(o=n.name||o),o&&r.getMethodName()?o+"."+t:t}function Zr(e,r,t){var n=new Date().toUTCString(),o=n+" "+this._namespace+" deprecated "+e;if(this._traced){for(var a=0;a<t.length;a++)o+=`
    at `+t[a].toString();return o}return r&&(o+=" at "+Q(r)),o}function Xr(e,r,t){var n="\x1B[36;1m"+this._namespace+"\x1B[22;39m \x1B[33;1mdeprecated\x1B[22;39m \x1B[0m"+e+"\x1B[39m";if(this._traced){for(var o=0;o<t.length;o++)n+=`
    \x1B[36mat `+t[o].toString()+"\x1B[39m";return n}return r&&(n+=" \x1B[36m"+Q(r)+"\x1B[39m"),n}function Q(e){return Hr(Mr,e[0])+":"+e[1]+":"+e[2]}function H(){var e=Error.stackTraceLimit,r={},t=Error.prepareStackTrace;Error.prepareStackTrace=Kr,Error.stackTraceLimit=Math.max(10,e),Error.captureStackTrace(r);var n=r.stack.slice(1);return Error.prepareStackTrace=t,Error.stackTraceLimit=e,n}function Kr(e,r){return r}function Qr(e,r){if(typeof e!="function")throw new TypeError("argument fn must be a function");var t=Jr(e.length),n=H(),o=A(n[1]);o.name=e.name;var a=new Function("fn","log","deprecate","message","site",`"use strict"
return function (`+t+`) {log.call(deprecate, message, site)
return fn.apply(this, arguments)
}`)(e,B,this,r,o);return a}function et(e,r,t){if(!e||typeof e!="object"&&typeof e!="function")throw new TypeError("argument obj must be object");var n=Object.getOwnPropertyDescriptor(e,r);if(!n)throw new TypeError("must call property on owner object");if(!n.configurable)throw new TypeError("property must be configurable");var o=this,a=H(),s=A(a[1]);s.name=r,"value"in n&&(n=$r(e,r,t));var u=n.get,h=n.set;typeof u=="function"&&(n.get=function(){return B.call(o,t,s),u.apply(this,arguments)}),typeof h=="function"&&(n.set=function(){return B.call(o,t,s),h.apply(this,arguments)}),Object.defineProperty(e,r,n)}function Fe(e,r,t){var n=new Error,o;return Object.defineProperty(n,"constructor",{value:Fe}),Object.defineProperty(n,"message",{configurable:!0,enumerable:!1,value:r,writable:!0}),Object.defineProperty(n,"name",{enumerable:!1,configurable:!0,value:"DeprecationError",writable:!0}),Object.defineProperty(n,"namespace",{configurable:!0,enumerable:!1,value:e,writable:!0}),Object.defineProperty(n,"stack",{configurable:!0,enumerable:!1,get:function(){return o!==void 0?o:o=Vr.call(this,t)},set:function(s){o=s}}),n}});var Ne=y((Jt,Le)=>{"use strict";i();Le.exports=rt;function rt(e,r){if(!Array.isArray(e))throw new TypeError("arg must be an array of [ee, events...] arrays");for(var t=[],n=0;n<e.length;n++){var o=e[n];if(!Array.isArray(o)||o.length<2)throw new TypeError("each array member must be [ee, events...]");for(var a=o[0],s=1;s<o.length;s++){var u=o[s],h=tt(u,m);a.on(u,h),t.push({ee:a,event:u,fn:h})}}function m(){w(),r.apply(null,arguments)}function w(){for(var l,T=0;T<t.length;T++)l=t[T],l.ee.removeListener(l.event,l.fn)}function v(l){r=l}return v.cancel=w,v}function tt(e,r){return function(n){for(var o=new Array(arguments.length),a=this,s=e==="error"?n:null,u=0;u<o.length;u++)o[u]=arguments[u];r(s,a,e,o)}}});var qe=y((Gt,ee)=>{"use strict";i();ee.exports=ot;ee.exports.isFinished=De;var Pe=Ne(),nt=typeof setImmediate=="function"?setImmediate:function(e){process.nextTick(e.bind.apply(e,arguments))};function ot(e,r){return De(e)!==!1?(nt(r,null,e),e):(st(e,r),e)}function De(e){var r=e.socket;if(typeof e.finished=="boolean")return!!(e.finished||r&&!r.writable);if(typeof e.complete=="boolean")return!!(e.upgrade||!r||!r.readable||e.complete&&!e.readable)}function at(e,r){var t,n,o=!1;function a(u){t.cancel(),n.cancel(),o=!0,r(u)}t=n=Pe([[e,"end","finish"]],a);function s(u){e.removeListener("socket",s),!o&&t===n&&(n=Pe([[u,"error","close"]],a))}if(e.socket){s(e.socket);return}e.on("socket",s),e.socket===void 0&&ut(e,s)}function st(e,r){var t=e.__onFinished;(!t||!t.queue)&&(t=e.__onFinished=it(e),at(e,t)),t.queue.push(r)}function it(e){function r(t){if(e.__onFinished===r&&(e.__onFinished=null),!!r.queue){var n=r.queue;r.queue=null;for(var o=0;o<n.length;o++)n[o](t,e)}}return r.queue=[],r}function ut(e,r){var t=e.assignSocket;typeof t=="function"&&(e.assignSocket=function(o){t.call(this,o),r(o)})}});var Be=y((zt,Ie)=>{"use strict";i();Ie.exports=ct;function ft(e,r){var t=!1;return function(o){var a=dt.apply(this,arguments);return t||(t=!0,r.call(this),typeof a[0]=="number"&&this.statusCode!==a[0]&&(a[0]=this.statusCode,a.length=1)),e.apply(this,a)}}function ct(e,r){if(!e)throw new TypeError("argument res is required");if(typeof r!="function")throw new TypeError("argument listener must be a function");e.writeHead=ft(e.writeHead,r)}function lt(e,r){for(var t=0;t<r.length;t++)e.setHeader(r[t][0],r[t][1])}function pt(e,r){for(var t=Object.keys(r),n=0;n<t.length;n++){var o=t[n];o&&e.setHeader(o,r[o])}}function dt(e){var r=arguments.length,t=r>1&&typeof arguments[1]=="string"?2:1,n=r>=t+1?arguments[t]:void 0;this.statusCode=e,Array.isArray(n)?lt(this,n):n&&pt(this,n);for(var o=new Array(Math.min(r,t)),a=0;a<o.length;a++)o[a]=arguments[a];return o}});var $e=y((Zt,U)=>{"use strict";i();U.exports=c;U.exports.compile=te;U.exports.format=_t;U.exports.token=Tt;var mt=he(),re=Ce()("morgan"),$=je()("morgan"),vt=qe(),gt=Be(),ht=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],yt=1e3;function c(e,r){var t=e,n=r||{};e&&typeof e=="object"&&(n=e,t=n.format||"default",$("morgan(options): use morgan("+(typeof t=="string"?JSON.stringify(t):"format")+", options) instead")),t===void 0&&$("undefined format: specify a format");var o=n.immediate,a=n.skip||!1,s=typeof t!="function"?kt(t):t,u=n.buffer,h=n.stream||process.stdout;if(u){$("buffer option");var m=typeof u!="number"?yt:u;h=wt(h,m)}return function(v,l,T){v._startAt=void 0,v._startTime=void 0,v._remoteAddress=Me(v),l._startAt=void 0,l._startTime=void 0,He.call(v);function N(){if(a!==!1&&a(v,l)){re("skip request");return}var P=s(c,v,l);if(P==null){re("skip line");return}re("log request"),h.write(P+`
`)}o?N():(gt(l,He),vt(l,N)),T()}}c.format("combined",':remote-addr - :remote-user [:date[clf]] ":method :url HTTP/:http-version" :status :res[content-length] ":referrer" ":user-agent"');c.format("common",':remote-addr - :remote-user [:date[clf]] ":method :url HTTP/:http-version" :status :res[content-length]');c.format("default",':remote-addr - :remote-user [:date] ":method :url HTTP/:http-version" :status :res[content-length] ":referrer" ":user-agent"');$.property(c,"default","default format: use combined format");c.format("short",":remote-addr :remote-user :method :url HTTP/:http-version :status :res[content-length] - :response-time ms");c.format("tiny",":method :url :status :res[content-length] - :response-time ms");c.format("dev",function e(r,t,n){var o=ne(n)?n.statusCode:void 0,a=o>=500?31:o>=400?33:o>=300?36:o>=200?32:0,s=e[a];return s||(s=e[a]=te("\x1B[0m:method :url \x1B["+a+"m:status\x1B[0m :response-time ms - :res[content-length]\x1B[0m")),s(r,t,n)});c.token("url",function(r){return r.originalUrl||r.url});c.token("method",function(r){return r.method});c.token("response-time",function(r,t,n){if(!(!r._startAt||!t._startAt)){var o=(t._startAt[0]-r._startAt[0])*1e3+(t._startAt[1]-r._startAt[1])*1e-6;return o.toFixed(n===void 0?3:n)}});c.token("total-time",function(r,t,n){if(!(!r._startAt||!t._startAt)){var o=process.hrtime(r._startAt),a=o[0]*1e3+o[1]*1e-6;return a.toFixed(n===void 0?3:n)}});c.token("date",function(r,t,n){var o=new Date;switch(n||"web"){case"clf":return bt(o);case"iso":return o.toISOString();case"web":return o.toUTCString()}});c.token("status",function(r,t){return ne(t)?String(t.statusCode):void 0});c.token("referrer",function(r){return r.headers.referer||r.headers.referrer});c.token("remote-addr",Me);c.token("remote-user",function(r){var t=mt(r);return t?t.name:void 0});c.token("http-version",function(r){return r.httpVersionMajor+"."+r.httpVersionMinor});c.token("user-agent",function(r){return r.headers["user-agent"]});c.token("req",function(r,t,n){var o=r.headers[n.toLowerCase()];return Array.isArray(o)?o.join(", "):o});c.token("res",function(r,t,n){if(ne(t)){var o=t.getHeader(n);return Array.isArray(o)?o.join(", "):o}});function bt(e){var r=e.getUTCDate(),t=e.getUTCHours(),n=e.getUTCMinutes(),o=e.getUTCSeconds(),a=e.getUTCFullYear(),s=ht[e.getUTCMonth()];return M(r)+"/"+s+"/"+a+":"+M(t)+":"+M(n)+":"+M(o)+" +0000"}function te(e){if(typeof e!="string")throw new TypeError("argument format must be a string");var r=String(JSON.stringify(e)),t=`  "use strict"
  return `+r.replace(/:([-\w]{2,})(?:\[([^\]]+)\])?/g,function(n,o,a){var s="req, res",u="tokens["+String(JSON.stringify(o))+"]";return a!==void 0&&(s+=", "+String(JSON.stringify(a))),`" +
    (`+u+"("+s+') || "-") + "'});return new Function("tokens, req, res",t)}function wt(e,r){var t=[],n=null;function o(){n=null,e.write(t.join("")),t.length=0}function a(s){n===null&&(n=setTimeout(o,r)),t.push(s)}return{write:a}}function _t(e,r){return c[e]=r,this}function kt(e){var r=c[e]||e||c.default;return typeof r!="function"?te(r):r}function Me(e){return e.ip||e._remoteAddress||e.connection&&e.connection.remoteAddress||void 0}function ne(e){return typeof e.headersSent!="boolean"?!!e._header:e.headersSent}function M(e){var r=String(e);return(r.length===1?"0":"")+r}function He(){this._startAt=process.hrtime(),this._startTime=new Date}function Tt(e,r){return c[e]=r,this}});i();var or=b(require("https"),1),ae=require("fs");i();var ie=require("url"),D=require("path"),ue=b(require("dotenv"),1);ue.default.config({path:(0,D.join)((0,D.dirname)((0,ie.fileURLToPath)(p)),"..",process.env.NODE_ENV==="production"?".env.production":".env.development")});var{NODE_ENV:fe,CLIENT_URL:ce,CLIENT_PORT:le,SERVER_URL:pe,SERVER_PORT:G}=process.env;i();var L=require("path"),Ke=require("url"),V=b(require("express"),1),Qe=b(require("cors"),1),er=b(require("helmet"),1),rr=b($e(),1);i();var Ye=b(require("express"),1);i();var Je=b(require("express"),1),Ve=b(require("multer"),1),Ge=b(require("sharp"),1),J=b(require("fs"),1),We=require("path"),j="upload/",oe=Je.default.Router(),Et=(0,Ve.default)();oe.post("/",Et.single("image"),async(e,r)=>{let t=e?.file?.buffer;if(!t)return r.status(500).json({success:!1});let n=e.body.filename,o=`${j}${n}-${e?.file?.originalname}`;J.default.existsSync(j)||J.default.mkdirSync(j);try{return await(0,Ge.default)(t).jpeg({quality:80}).toFile(o),r.status(201).json({uploaded:!0})}catch{return r.status(422).json({uploaded:!1})}});oe.get("/:filename",(e,r)=>{J.default.readdir(j,(t,n)=>{if(t)return r.status(500).json({success:!1,message:"Failed to retrieve image",error:t});let o=n.filter(a=>a.startsWith(e.params.filename));return o.length>0?r.sendFile((0,We.resolve)(j+o[0])):r.status(404).json({success:!1,message:"Image not found"})})});var ze=oe;var Ze=Ye.default.Router();Ze.use("/image",ze);var Xe=Ze;var tr=(0,L.dirname)((0,Ke.fileURLToPath)(p)),St=`${ce}:${le}`,k=(0,V.default)();k.use((0,Qe.default)({origin:St}));k.use((0,er.default)());k.use(V.default.json());fe==="development"&&k.use((0,rr.default)("dev"));k.use(V.default.static((0,L.join)(tr,"..","public")));k.use("/api",Xe);k.get("/*",(e,r)=>{r.sendFile((0,L.join)(tr,"..","public","index.html"))});var nr=k;var At=`${pe}:${G}`,xt=or.default.createServer({key:(0,ae.readFileSync)("key.pem"),cert:(0,ae.readFileSync)("cert.pem")},nr);(async function(){xt.listen(G,()=>{console.log("\x1B[36m",At,"\x1B[0m")})})();
/*! Bundled license information:

basic-auth/index.js:
  (*!
   * basic-auth
   * Copyright(c) 2013 TJ Holowaychuk
   * Copyright(c) 2014 Jonathan Ong
   * Copyright(c) 2015-2016 Douglas Christopher Wilson
   * MIT Licensed
   *)

depd/index.js:
  (*!
   * depd
   * Copyright(c) 2014-2018 Douglas Christopher Wilson
   * MIT Licensed
   *)

ee-first/index.js:
  (*!
   * ee-first
   * Copyright(c) 2014 Jonathan Ong
   * MIT Licensed
   *)

on-finished/index.js:
  (*!
   * on-finished
   * Copyright(c) 2013 Jonathan Ong
   * Copyright(c) 2014 Douglas Christopher Wilson
   * MIT Licensed
   *)

on-headers/index.js:
  (*!
   * on-headers
   * Copyright(c) 2014 Douglas Christopher Wilson
   * MIT Licensed
   *)

morgan/index.js:
  (*!
   * morgan
   * Copyright(c) 2010 Sencha Inc.
   * Copyright(c) 2011 TJ Holowaychuk
   * Copyright(c) 2014 Jonathan Ong
   * Copyright(c) 2014-2017 Douglas Christopher Wilson
   * MIT Licensed
   *)
*/
