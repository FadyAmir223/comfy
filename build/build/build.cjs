var vr=Object.create;var de=Object.defineProperty;var yr=Object.getOwnPropertyDescriptor;var br=Object.getOwnPropertyNames;var wr=Object.getPrototypeOf,_r=Object.prototype.hasOwnProperty;var kr=(e,r)=>()=>(e&&(r=e(e=0)),r);var b=(e,r)=>()=>(r||e((r={exports:{}}).exports,r),r.exports);var Tr=(e,r,t,n)=>{if(r&&typeof r=="object"||typeof r=="function")for(let o of br(r))!_r.call(e,o)&&o!==t&&de(e,o,{get:()=>r[o],enumerable:!(n=yr(r,o))||n.enumerable});return e};var y=(e,r,t)=>(t=e!=null?vr(wr(e)):{},Tr(r||!e||!e.__esModule?de(t,"default",{value:e,enumerable:!0}):t,e));var Er,l,s=kr(()=>{Er=()=>typeof document>"u"?new URL("file:"+__filename).href:document.currentScript&&document.currentScript.src||new URL("main.js",document.baseURI).href,l=Er()});var ke=b((z,_e)=>{s();var B=require("buffer"),_=B.Buffer;function we(e,r){for(var t in e)r[t]=e[t]}_.from&&_.alloc&&_.allocUnsafe&&_.allocUnsafeSlow?_e.exports=B:(we(B,z),z.Buffer=S);function S(e,r,t){return _(e,r,t)}we(_,S);S.from=function(e,r,t){if(typeof e=="number")throw new TypeError("Argument must not be a number");return _(e,r,t)};S.alloc=function(e,r,t){if(typeof e!="number")throw new TypeError("Argument must be a number");var n=_(e);return r!==void 0?typeof t=="string"?n.fill(r,t):n.fill(r):n.fill(0),n};S.allocUnsafe=function(e){if(typeof e!="number")throw new TypeError("Argument must be a number");return _(e)};S.allocUnsafeSlow=function(e){if(typeof e!="number")throw new TypeError("Argument must be a number");return B.SlowBuffer(e)}});var Ee=b((Kt,Y)=>{"use strict";s();var Sr=ke().Buffer;Y.exports=Cr;Y.exports.parse=Te;var xr=/^ *(?:[Bb][Aa][Ss][Ii][Cc]) +([A-Za-z0-9._~+/-]+=*) *$/,Ar=/^([^:]*):(.*)$/;function Cr(e){if(!e)throw new TypeError("argument req is required");if(typeof e!="object")throw new TypeError("argument req is required to be an object");var r=Fr(e);return Te(r)}function Or(e){return Sr.from(e,"base64").toString()}function Fr(e){if(!e.headers||typeof e.headers!="object")throw new TypeError("argument req is required to have headers property");return e.headers.authorization}function Te(e){if(typeof e=="string"){var r=xr.exec(e);if(r){var t=Ar.exec(Or(r[1]));if(t)return new Rr(t[1],t[2])}}}function Rr(e,r){this.name=e,this.pass=r}});var xe=b((en,Se)=>{s();var C=1e3,O=C*60,F=O*60,R=F*24,Ur=R*365.25;Se.exports=function(e,r){r=r||{};var t=typeof e;if(t==="string"&&e.length>0)return jr(e);if(t==="number"&&isNaN(e)===!1)return r.long?Pr(e):Nr(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))};function jr(e){if(e=String(e),!(e.length>100)){var r=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(r){var t=parseFloat(r[1]),n=(r[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"yrs":case"yr":case"y":return t*Ur;case"days":case"day":case"d":return t*R;case"hours":case"hour":case"hrs":case"hr":case"h":return t*F;case"minutes":case"minute":case"mins":case"min":case"m":return t*O;case"seconds":case"second":case"secs":case"sec":case"s":return t*C;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return t;default:return}}}}function Nr(e){return e>=R?Math.round(e/R)+"d":e>=F?Math.round(e/F)+"h":e>=O?Math.round(e/O)+"m":e>=C?Math.round(e/C)+"s":e+"ms"}function Pr(e){return I(e,R,"day")||I(e,F,"hour")||I(e,O,"minute")||I(e,C,"second")||e+" ms"}function I(e,r,t){if(!(e<r))return e<r*1.5?Math.floor(e/r)+" "+t:Math.ceil(e/r)+" "+t+"s"}});var K=b((f,Ae)=>{s();f=Ae.exports=X.debug=X.default=X;f.coerce=Ir;f.disable=qr;f.enable=Dr;f.enabled=Br;f.humanize=xe();f.names=[];f.skips=[];f.formatters={};var Z;function Lr(e){var r=0,t;for(t in e)r=(r<<5)-r+e.charCodeAt(t),r|=0;return f.colors[Math.abs(r)%f.colors.length]}function X(e){function r(){if(r.enabled){var t=r,n=+new Date,o=n-(Z||n);t.diff=o,t.prev=Z,t.curr=n,Z=n;for(var a=new Array(arguments.length),i=0;i<a.length;i++)a[i]=arguments[i];a[0]=f.coerce(a[0]),typeof a[0]!="string"&&a.unshift("%O");var u=0;a[0]=a[0].replace(/%([a-zA-Z%])/g,function(m,w){if(m==="%%")return m;u++;var g=f.formatters[w];if(typeof g=="function"){var p=a[u];m=g.call(t,p),a.splice(u,1),u--}return m}),f.formatArgs.call(t,a);var v=r.log||f.log||console.log.bind(console);v.apply(t,a)}}return r.namespace=e,r.enabled=f.enabled(e),r.useColors=f.useColors(),r.color=Lr(e),typeof f.init=="function"&&f.init(r),r}function Dr(e){f.save(e),f.names=[],f.skips=[];for(var r=(typeof e=="string"?e:"").split(/[\s,]+/),t=r.length,n=0;n<t;n++)r[n]&&(e=r[n].replace(/\*/g,".*?"),e[0]==="-"?f.skips.push(new RegExp("^"+e.substr(1)+"$")):f.names.push(new RegExp("^"+e+"$")))}function qr(){f.enable("")}function Br(e){var r,t;for(r=0,t=f.skips.length;r<t;r++)if(f.skips[r].test(e))return!1;for(r=0,t=f.names.length;r<t;r++)if(f.names[r].test(e))return!0;return!1}function Ir(e){return e instanceof Error?e.stack||e.message:e}});var Fe=b((h,Oe)=>{s();h=Oe.exports=K();h.log=$r;h.formatArgs=Mr;h.save=Gr;h.load=Ce;h.useColors=Hr;h.storage=typeof chrome<"u"&&typeof chrome.storage<"u"?chrome.storage.local:Jr();h.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"];function Hr(){return typeof window<"u"&&window.process&&window.process.type==="renderer"?!0:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}h.formatters.j=function(e){try{return JSON.stringify(e)}catch(r){return"[UnexpectedJSONParseError]: "+r.message}};function Mr(e){var r=this.useColors;if(e[0]=(r?"%c":"")+this.namespace+(r?" %c":" ")+e[0]+(r?"%c ":" ")+"+"+h.humanize(this.diff),!!r){var t="color: "+this.color;e.splice(1,0,t,"color: inherit");var n=0,o=0;e[0].replace(/%[a-zA-Z%]/g,function(a){a!=="%%"&&(n++,a==="%c"&&(o=n))}),e.splice(o,0,t)}}function $r(){return typeof console=="object"&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function Gr(e){try{e==null?h.storage.removeItem("debug"):h.storage.debug=e}catch{}}function Ce(){var e;try{e=h.storage.debug}catch{}return!e&&typeof process<"u"&&"env"in process&&(e=process.env.DEBUG),e}h.enable(Ce());function Jr(){try{return window.localStorage}catch{}}});var Ne=b((d,je)=>{s();var Re=require("tty"),U=require("util");d=je.exports=K();d.init=Kr;d.log=Yr;d.formatArgs=zr;d.save=Zr;d.load=Ue;d.useColors=Wr;d.colors=[6,2,3,4,5,1];d.inspectOpts=Object.keys(process.env).filter(function(e){return/^debug_/i.test(e)}).reduce(function(e,r){var t=r.substring(6).toLowerCase().replace(/_([a-z])/g,function(o,a){return a.toUpperCase()}),n=process.env[r];return/^(yes|on|true|enabled)$/i.test(n)?n=!0:/^(no|off|false|disabled)$/i.test(n)?n=!1:n==="null"?n=null:n=Number(n),e[t]=n,e},{});var x=parseInt(process.env.DEBUG_FD,10)||2;x!==1&&x!==2&&U.deprecate(function(){},"except for stderr(2) and stdout(1), any other usage of DEBUG_FD is deprecated. Override debug.log if you want to use a different log function (https://git.io/debug_fd)")();var Vr=x===1?process.stdout:x===2?process.stderr:Xr(x);function Wr(){return"colors"in d.inspectOpts?!!d.inspectOpts.colors:Re.isatty(x)}d.formatters.o=function(e){return this.inspectOpts.colors=this.useColors,U.inspect(e,this.inspectOpts).split(`
`).map(function(r){return r.trim()}).join(" ")};d.formatters.O=function(e){return this.inspectOpts.colors=this.useColors,U.inspect(e,this.inspectOpts)};function zr(e){var r=this.namespace,t=this.useColors;if(t){var n=this.color,o="  \x1B[3"+n+";1m"+r+" \x1B[0m";e[0]=o+e[0].split(`
`).join(`
`+o),e.push("\x1B[3"+n+"m+"+d.humanize(this.diff)+"\x1B[0m")}else e[0]=new Date().toUTCString()+" "+r+" "+e[0]}function Yr(){return Vr.write(U.format.apply(U,arguments)+`
`)}function Zr(e){e==null?delete process.env.DEBUG:process.env.DEBUG=e}function Ue(){return process.env.DEBUG}function Xr(e){var r,t=process.binding("tty_wrap");switch(t.guessHandleType(e)){case"TTY":r=new Re.WriteStream(e),r._type="tty",r._handle&&r._handle.unref&&r._handle.unref();break;case"FILE":var n=require("fs");r=new n.SyncWriteStream(e,{autoClose:!1}),r._type="fs";break;case"PIPE":case"TCP":var o=require("net");r=new o.Socket({fd:e,readable:!1,writable:!0}),r.readable=!1,r.read=null,r._type="pipe",r._handle&&r._handle.unref&&r._handle.unref();break;default:throw new Error("Implement me. Unknown stream file type!")}return r.fd=e,r._isStdio=!0,r}function Kr(e){e.inspectOpts={};for(var r=Object.keys(d.inspectOpts),t=0;t<r.length;t++)e.inspectOpts[r[t]]=d.inspectOpts[r[t]]}d.enable(Ue())});var Pe=b((an,Q)=>{s();typeof process<"u"&&process.type==="renderer"?Q.exports=Fe():Q.exports=Ne()});var Ie=b((un,Be)=>{s();var Qr=require("path").relative;Be.exports=ot;var et=process.cwd();function De(e,r){for(var t=e.split(/[ ,]+/),n=String(r).toLowerCase(),o=0;o<t.length;o++){var a=t[o];if(a&&(a==="*"||a.toLowerCase()===n))return!0}return!1}function rt(e,r,t){var n=Object.getOwnPropertyDescriptor(e,r),o=n.value;return n.get=function(){return o},n.writable&&(n.set=function(i){return o=i}),delete n.value,delete n.writable,Object.defineProperty(e,r,n),n}function tt(e){for(var r="",t=0;t<e;t++)r+=", arg"+t;return r.substr(2)}function nt(e){var r=this.name+": "+this.namespace;this.message&&(r+=" deprecated "+this.message);for(var t=0;t<e.length;t++)r+=`
    at `+e[t].toString();return r}function ot(e){if(!e)throw new TypeError("argument namespace is required");var r=M(),t=A(r[1]),n=t[0];function o(a){H.call(o,a)}return o._file=n,o._ignored=it(e),o._namespace=e,o._traced=st(e),o._warned=Object.create(null),o.function=lt,o.property=pt,o}function at(e,r){var t=typeof e.listenerCount!="function"?e.listeners(r).length:e.listenerCount(r);return t>0}function it(e){if(process.noDeprecation)return!0;var r=process.env.NO_DEPRECATION||"";return De(r,e)}function st(e){if(process.traceDeprecation)return!0;var r=process.env.TRACE_DEPRECATION||"";return De(r,e)}function H(e,r){var t=at(process,"deprecation");if(!(!t&&this._ignored)){var n,o,a,i,u=0,v=!1,m=M(),w=this._file;for(r?(i=r,a=A(m[1]),a.name=i.name,w=a[0]):(u=2,i=A(m[u]),a=i);u<m.length;u++)if(n=A(m[u]),o=n[0],o===w)v=!0;else if(o===this._file)w=this._file;else if(v)break;var g=n?i.join(":")+"__"+n.join(":"):void 0;if(!(g!==void 0&&g in this._warned)){this._warned[g]=!0;var p=e;if(p||(p=a===i||!a.name?Le(i):Le(a)),t){var E=qe(this._namespace,p,m.slice(u));process.emit("deprecation",E);return}var L=process.stderr.isTTY?ft:ut,D=L.call(this,p,n,m.slice(u));process.stderr.write(D+`
`,"utf8")}}}function A(e){var r=e.getFileName()||"<anonymous>",t=e.getLineNumber(),n=e.getColumnNumber();e.isEval()&&(r=e.getEvalOrigin()+", "+r);var o=[r,t,n];return o.callSite=e,o.name=e.getFunctionName(),o}function Le(e){var r=e.callSite,t=e.name;t||(t="<anonymous@"+ee(e)+">");var n=r.getThis(),o=n&&r.getTypeName();return o==="Object"&&(o=void 0),o==="Function"&&(o=n.name||o),o&&r.getMethodName()?o+"."+t:t}function ut(e,r,t){var n=new Date().toUTCString(),o=n+" "+this._namespace+" deprecated "+e;if(this._traced){for(var a=0;a<t.length;a++)o+=`
    at `+t[a].toString();return o}return r&&(o+=" at "+ee(r)),o}function ft(e,r,t){var n="\x1B[36;1m"+this._namespace+"\x1B[22;39m \x1B[33;1mdeprecated\x1B[22;39m \x1B[0m"+e+"\x1B[39m";if(this._traced){for(var o=0;o<t.length;o++)n+=`
    \x1B[36mat `+t[o].toString()+"\x1B[39m";return n}return r&&(n+=" \x1B[36m"+ee(r)+"\x1B[39m"),n}function ee(e){return Qr(et,e[0])+":"+e[1]+":"+e[2]}function M(){var e=Error.stackTraceLimit,r={},t=Error.prepareStackTrace;Error.prepareStackTrace=ct,Error.stackTraceLimit=Math.max(10,e),Error.captureStackTrace(r);var n=r.stack.slice(1);return Error.prepareStackTrace=t,Error.stackTraceLimit=e,n}function ct(e,r){return r}function lt(e,r){if(typeof e!="function")throw new TypeError("argument fn must be a function");var t=tt(e.length),n=M(),o=A(n[1]);o.name=e.name;var a=new Function("fn","log","deprecate","message","site",`"use strict"
return function (`+t+`) {log.call(deprecate, message, site)
return fn.apply(this, arguments)
}`)(e,H,this,r,o);return a}function pt(e,r,t){if(!e||typeof e!="object"&&typeof e!="function")throw new TypeError("argument obj must be object");var n=Object.getOwnPropertyDescriptor(e,r);if(!n)throw new TypeError("must call property on owner object");if(!n.configurable)throw new TypeError("property must be configurable");var o=this,a=M(),i=A(a[1]);i.name=r,"value"in n&&(n=rt(e,r,t));var u=n.get,v=n.set;typeof u=="function"&&(n.get=function(){return H.call(o,t,i),u.apply(this,arguments)}),typeof v=="function"&&(n.set=function(){return H.call(o,t,i),v.apply(this,arguments)}),Object.defineProperty(e,r,n)}function qe(e,r,t){var n=new Error,o;return Object.defineProperty(n,"constructor",{value:qe}),Object.defineProperty(n,"message",{configurable:!0,enumerable:!1,value:r,writable:!0}),Object.defineProperty(n,"name",{enumerable:!1,configurable:!0,value:"DeprecationError",writable:!0}),Object.defineProperty(n,"namespace",{configurable:!0,enumerable:!1,value:e,writable:!0}),Object.defineProperty(n,"stack",{configurable:!0,enumerable:!1,get:function(){return o!==void 0?o:o=nt.call(this,t)},set:function(i){o=i}}),n}});var Me=b((cn,He)=>{"use strict";s();He.exports=dt;function dt(e,r){if(!Array.isArray(e))throw new TypeError("arg must be an array of [ee, events...] arrays");for(var t=[],n=0;n<e.length;n++){var o=e[n];if(!Array.isArray(o)||o.length<2)throw new TypeError("each array member must be [ee, events...]");for(var a=o[0],i=1;i<o.length;i++){var u=o[i],v=mt(u,m);a.on(u,v),t.push({ee:a,event:u,fn:v})}}function m(){w(),r.apply(null,arguments)}function w(){for(var p,E=0;E<t.length;E++)p=t[E],p.ee.removeListener(p.event,p.fn)}function g(p){r=p}return g.cancel=w,g}function mt(e,r){return function(n){for(var o=new Array(arguments.length),a=this,i=e==="error"?n:null,u=0;u<o.length;u++)o[u]=arguments[u];r(i,a,e,o)}}});var Je=b((pn,re)=>{"use strict";s();re.exports=ht;re.exports.isFinished=Ge;var $e=Me(),gt=typeof setImmediate=="function"?setImmediate:function(e){process.nextTick(e.bind.apply(e,arguments))};function ht(e,r){return Ge(e)!==!1?(gt(r,null,e),e):(yt(e,r),e)}function Ge(e){var r=e.socket;if(typeof e.finished=="boolean")return!!(e.finished||r&&!r.writable);if(typeof e.complete=="boolean")return!!(e.upgrade||!r||!r.readable||e.complete&&!e.readable)}function vt(e,r){var t,n,o=!1;function a(u){t.cancel(),n.cancel(),o=!0,r(u)}t=n=$e([[e,"end","finish"]],a);function i(u){e.removeListener("socket",i),!o&&t===n&&(n=$e([[u,"error","close"]],a))}if(e.socket){i(e.socket);return}e.on("socket",i),e.socket===void 0&&wt(e,i)}function yt(e,r){var t=e.__onFinished;(!t||!t.queue)&&(t=e.__onFinished=bt(e),vt(e,t)),t.queue.push(r)}function bt(e){function r(t){if(e.__onFinished===r&&(e.__onFinished=null),!!r.queue){var n=r.queue;r.queue=null;for(var o=0;o<n.length;o++)n[o](t,e)}}return r.queue=[],r}function wt(e,r){var t=e.assignSocket;typeof t=="function"&&(e.assignSocket=function(o){t.call(this,o),r(o)})}});var We=b((mn,Ve)=>{"use strict";s();Ve.exports=kt;function _t(e,r){var t=!1;return function(o){var a=St.apply(this,arguments);return t||(t=!0,r.call(this),typeof a[0]=="number"&&this.statusCode!==a[0]&&(a[0]=this.statusCode,a.length=1)),e.apply(this,a)}}function kt(e,r){if(!e)throw new TypeError("argument res is required");if(typeof r!="function")throw new TypeError("argument listener must be a function");e.writeHead=_t(e.writeHead,r)}function Tt(e,r){for(var t=0;t<r.length;t++)e.setHeader(r[t][0],r[t][1])}function Et(e,r){for(var t=Object.keys(r),n=0;n<t.length;n++){var o=t[n];o&&e.setHeader(o,r[o])}}function St(e){var r=arguments.length,t=r>1&&typeof arguments[1]=="string"?2:1,n=r>=t+1?arguments[t]:void 0;this.statusCode=e,Array.isArray(n)?Tt(this,n):n&&Et(this,n);for(var o=new Array(Math.min(r,t)),a=0;a<o.length;a++)o[a]=arguments[a];return o}});var Ze=b((hn,j)=>{"use strict";s();j.exports=c;j.exports.compile=ne;j.exports.format=jt;j.exports.token=Pt;var xt=Ee(),te=Pe()("morgan"),G=Ie()("morgan"),At=Je(),Ct=We(),Ot=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],Ft=1e3;function c(e,r){var t=e,n=r||{};e&&typeof e=="object"&&(n=e,t=n.format||"default",G("morgan(options): use morgan("+(typeof t=="string"?JSON.stringify(t):"format")+", options) instead")),t===void 0&&G("undefined format: specify a format");var o=n.immediate,a=n.skip||!1,i=typeof t!="function"?Nt(t):t,u=n.buffer,v=n.stream||process.stdout;if(u){G("buffer option");var m=typeof u!="number"?Ft:u;v=Ut(v,m)}return function(g,p,E){g._startAt=void 0,g._startTime=void 0,g._remoteAddress=Ye(g),p._startAt=void 0,p._startTime=void 0,ze.call(g);function L(){if(a!==!1&&a(g,p)){te("skip request");return}var D=i(c,g,p);if(D==null){te("skip line");return}te("log request"),v.write(D+`
`)}o?L():(Ct(p,ze),At(p,L)),E()}}c.format("combined",':remote-addr - :remote-user [:date[clf]] ":method :url HTTP/:http-version" :status :res[content-length] ":referrer" ":user-agent"');c.format("common",':remote-addr - :remote-user [:date[clf]] ":method :url HTTP/:http-version" :status :res[content-length]');c.format("default",':remote-addr - :remote-user [:date] ":method :url HTTP/:http-version" :status :res[content-length] ":referrer" ":user-agent"');G.property(c,"default","default format: use combined format");c.format("short",":remote-addr :remote-user :method :url HTTP/:http-version :status :res[content-length] - :response-time ms");c.format("tiny",":method :url :status :res[content-length] - :response-time ms");c.format("dev",function e(r,t,n){var o=oe(n)?n.statusCode:void 0,a=o>=500?31:o>=400?33:o>=300?36:o>=200?32:0,i=e[a];return i||(i=e[a]=ne("\x1B[0m:method :url \x1B["+a+"m:status\x1B[0m :response-time ms - :res[content-length]\x1B[0m")),i(r,t,n)});c.token("url",function(r){return r.originalUrl||r.url});c.token("method",function(r){return r.method});c.token("response-time",function(r,t,n){if(!(!r._startAt||!t._startAt)){var o=(t._startAt[0]-r._startAt[0])*1e3+(t._startAt[1]-r._startAt[1])*1e-6;return o.toFixed(n===void 0?3:n)}});c.token("total-time",function(r,t,n){if(!(!r._startAt||!t._startAt)){var o=process.hrtime(r._startAt),a=o[0]*1e3+o[1]*1e-6;return a.toFixed(n===void 0?3:n)}});c.token("date",function(r,t,n){var o=new Date;switch(n||"web"){case"clf":return Rt(o);case"iso":return o.toISOString();case"web":return o.toUTCString()}});c.token("status",function(r,t){return oe(t)?String(t.statusCode):void 0});c.token("referrer",function(r){return r.headers.referer||r.headers.referrer});c.token("remote-addr",Ye);c.token("remote-user",function(r){var t=xt(r);return t?t.name:void 0});c.token("http-version",function(r){return r.httpVersionMajor+"."+r.httpVersionMinor});c.token("user-agent",function(r){return r.headers["user-agent"]});c.token("req",function(r,t,n){var o=r.headers[n.toLowerCase()];return Array.isArray(o)?o.join(", "):o});c.token("res",function(r,t,n){if(oe(t)){var o=t.getHeader(n);return Array.isArray(o)?o.join(", "):o}});function Rt(e){var r=e.getUTCDate(),t=e.getUTCHours(),n=e.getUTCMinutes(),o=e.getUTCSeconds(),a=e.getUTCFullYear(),i=Ot[e.getUTCMonth()];return $(r)+"/"+i+"/"+a+":"+$(t)+":"+$(n)+":"+$(o)+" +0000"}function ne(e){if(typeof e!="string")throw new TypeError("argument format must be a string");var r=String(JSON.stringify(e)),t=`  "use strict"
  return `+r.replace(/:([-\w]{2,})(?:\[([^\]]+)\])?/g,function(n,o,a){var i="req, res",u="tokens["+String(JSON.stringify(o))+"]";return a!==void 0&&(i+=", "+String(JSON.stringify(a))),`" +
    (`+u+"("+i+') || "-") + "'});return new Function("tokens, req, res",t)}function Ut(e,r){var t=[],n=null;function o(){n=null,e.write(t.join("")),t.length=0}function a(i){n===null&&(n=setTimeout(o,r)),t.push(i)}return{write:a}}function jt(e,r){return c[e]=r,this}function Nt(e){var r=c[e]||e||c.default;return typeof r!="function"?ne(r):r}function Ye(e){return e.ip||e._remoteAddress||e.connection&&e.connection.remoteAddress||void 0}function oe(e){return typeof e.headersSent!="boolean"?!!e._header:e.headersSent}function $(e){var r=String(e);return(r.length===1?"0":"")+r}function ze(){this._startAt=process.hrtime(),this._startTime=new Date}function Pt(e,r){return c[e]=r,this}});s();var hr=y(require("https"),1),pe=require("fs");s();var me=require("url"),q=require("path"),ge=y(require("dotenv"),1);ge.default.config({path:(0,q.join)((0,q.dirname)((0,me.fileURLToPath)(l)),"..",process.env.NODE_ENV==="production"?".env.production":".env.development")});var{NODE_ENV:he,CLIENT_URL:ve,CLIENT_PORT:ye,SERVER_URL:be,SERVER_PORT:W}=process.env;s();var P=require("path"),lr=require("url"),V=y(require("express"),1),pr=y(require("cors"),1),le=y(require("helmet"),1),dr=y(Ze(),1);s();var fr=y(require("express"),1);s();var tr=y(require("express"),1),nr=y(require("multer"),1);s();var Xe=y(require("sharp"),1),Ke=require("path"),Qe=require("fs");s();var N=require("path"),J=require("fs");console.log((0,N.parse)(process.cwd()));var{dir:Lt,base:Dt}=(0,N.parse)(process.cwd()),qt="upload/",ae=(0,N.join)(Lt,Dt,qt);(0,J.existsSync)(ae)||(0,J.mkdirSync)(ae);var k=ae;var er=async(e,r)=>{let t=e?.file?.buffer;if(!t)return r.status(500).json({success:!1});let n=k+e?.file?.originalname;try{return await(0,Xe.default)(t).jpeg({quality:80}).toFile(n),r.status(201).json({message:"image uploaded successfully"})}catch{return r.status(422).json({message:"image didn't upload"})}},rr=(e,r)=>{(0,Qe.readdir)(k,(t,n)=>{if(t)return r.status(500).json({message:"failed to retrieve image",error:t});let o=n.filter(a=>a.startsWith(e.params.filename));return o.length>0?r.sendFile((0,Ke.resolve)(k+o[0])):r.status(404).json({success:!1,message:"image not found"})})};var Bt=(0,nr.default)(),ie=tr.default.Router();ie.post("/",Bt.single("image"),er);ie.get("/:filename",rr);var or=ie;s();var sr=y(require("express"),1),ue=y(require("multer"),1);s();var ar=y(require("fs"),1),ir=y(require("path"),1);function It(e,r){r.status(201).json({message:"file uploaded successfully"})}function Ht(e,r){ar.default.readdir(k,(t,n)=>{if(t)return r.status(500).json({message:"failed to retrieve file",error:t});let o=n.filter(a=>a.startsWith(e.params.filename));return o.length>0?r.sendFile(ir.default.resolve(k,o[0])):r.status(404).json({success:!1,message:"file not found"})})}var se={uploadFile:It,getFileByName:Ht};var fe=sr.default.Router(),Mt=ue.default.diskStorage({destination:function(e,r,t){t(null,k)},filename:function(e,r,t){t(null,`${r.originalname}`)}}),$t=(0,ue.default)({storage:Mt});fe.post("/",$t.single("file"),se.uploadFile);fe.get("/:filename",se.getFileByName);var ur=fe;var ce=fr.default.Router();ce.use("/image",or);ce.use("/file",ur);var cr=ce;var mr=(0,P.dirname)((0,lr.fileURLToPath)(l)),Gt=`${ve}:${ye}`,T=(0,V.default)();T.use((0,pr.default)({origin:Gt}));T.use(le.default.contentSecurityPolicy({directives:{...le.default.contentSecurityPolicy.getDefaultDirectives(),"img-src":["'self'","*","blob:"]}}));T.use(V.default.json());he==="development"&&T.use((0,dr.default)("dev"));T.use(V.default.static((0,P.join)(mr,"..","public")));T.use("/api",cr);T.get("/*",(e,r)=>{r.sendFile((0,P.join)(mr,"..","public","index.html"))});var gr=T;var Jt=`${be}:${W}`,Vt=hr.default.createServer({key:(0,pe.readFileSync)("key.pem"),cert:(0,pe.readFileSync)("cert.pem")},gr);(async function(){Vt.listen(W,()=>{console.log("\x1B[36m",Jt,"\x1B[0m")})})();
/*! Bundled license information:

basic-auth/index.js:
  (*!
   * basic-auth
   * Copyright(c) 2013 TJ Holowaychuk
   * Copyright(c) 2014 Jonathan Ong
   * Copyright(c) 2015-2016 Douglas Christopher Wilson
   * MIT Licensed
   *)

depd/index.js:
  (*!
   * depd
   * Copyright(c) 2014-2018 Douglas Christopher Wilson
   * MIT Licensed
   *)

ee-first/index.js:
  (*!
   * ee-first
   * Copyright(c) 2014 Jonathan Ong
   * MIT Licensed
   *)

on-finished/index.js:
  (*!
   * on-finished
   * Copyright(c) 2013 Jonathan Ong
   * Copyright(c) 2014 Douglas Christopher Wilson
   * MIT Licensed
   *)

on-headers/index.js:
  (*!
   * on-headers
   * Copyright(c) 2014 Douglas Christopher Wilson
   * MIT Licensed
   *)

morgan/index.js:
  (*!
   * morgan
   * Copyright(c) 2010 Sencha Inc.
   * Copyright(c) 2011 TJ Holowaychuk
   * Copyright(c) 2014 Jonathan Ong
   * Copyright(c) 2014-2017 Douglas Christopher Wilson
   * MIT Licensed
   *)
*/
